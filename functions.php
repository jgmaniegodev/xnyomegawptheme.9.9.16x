<?php//add_filter( 'http_request_args', 'dm_prevent_update_check', 10, 2 );//function dm_prevent_update_check( $r, $url ) {//    if ( 0 === strpos( $url, 'http://api.wordpress.org/plugins/update-check/' ) ) {//        $my_plugin = plugin_basename( __FILE__ );//        $plugins = unserialize( $r['body']['plugins'] );//        unset( $plugins->plugins[$my_plugin] );//        unset( $plugins->active[array_search( $my_plugin, $plugins->active )] );//        $r['body']['plugins'] = serialize( $plugins );//    }//    return $r;//}if ( ! isset( $content_width ) ) {	$content_width = 800;}function theme_nyomegadesigns_setup(){    add_theme_support( 'post-thumbnails' );    add_image_size( 'portfolio-image', 190, 120, array( 'center', 'top' ) );}add_action('after_setup_theme', 'theme_nyomegadesigns_setup');add_filter( 'image_size_names_choose', 'my_custom_sizes' ); function my_custom_sizes( $sizes ) {    return array_merge( $sizes, array(        'portfolio-image' => __( 'Portfolio Image' ),    ) );}// Remove Open Sansadd_action('wp_print_styles', 'remove_open_sans');function remove_open_sans() {    wp_dequeue_style('open-sans-css');}// remove_filter( 'the_content', 'wpautop' );// Enqueue scriptsadd_action('wp_enqueue_scripts', 'theme_nyomegadesigns_scripts');function theme_nyomegadesigns_scripts() {    wp_enqueue_style('fontawesome', get_template_directory_uri() . '/css/font-awesome.min.css');    wp_enqueue_style('main-style', get_stylesheet_uri());    wp_enqueue_script( 'nyomega-preload', get_template_directory_uri() . '/js/preloads.js', array('jquery') );    wp_enqueue_script( 'jquery.cycle', get_template_directory_uri() . '/js/jquery.backstretch.min.js' );//    wp_enqueue_script( 'jquery.cycle', get_template_directory_uri() . '/js/jquery.cycle2.min.js' );    wp_enqueue_script('nyomega-script', get_template_directory_uri() . '/js/nyomegascripts.js', array('jquery'));    wp_enqueue_script( 'colorbox-js', get_template_directory_uri() . '/js/jquery.colorbox-min.js');    wp_enqueue_style( 'colorbox-css', get_template_directory_uri() . '/css/colorbox.css');}// Register Nav Menusregister_nav_menus(array(    'primary' => __('Primary', 'nyomegadesigns'),    'footer_menu' => __('Footer Menu', 'nyomegadesigns'),    'about_sidemenu' => __('About Sidemenu', 'nyomegadesigns'),));// Enable Text Widget to accept shortcodes// This is used for embedding the// Testimonial plugin (shortcode)add_filter('widget_text', 'do_shortcode');// Shortcode prev/next for testimonialsadd_shortcode('testinav', 'testinav_func');function testinav_func($atts) {    $atts = '<div class="testi-navs"><a id="testinext" href="#"></a><a id= "testiprev" href="#"></a>';    $atts .= '</div>';    return "$atts";}// shortcode for services itemsadd_shortcode('services', 'services_shortcode_func');function services_shortcode_func($atts, $content=null) {    extract( shortcode_atts( array(                'title' => '',                'id' => '',		'img' => '',		'description' => '',                'link' => '',	), $atts, 'services' ) );        $html = '<div class="services-item" id="' . $id . '">';        $html .= '<div class="service-img"><img src="' . $img . '" height="64" width="64"/></div>';        $html .= '<div class="service-description">';                        if (!empty($link)){                $html .= '<h3 class="service-title"><a href="' . $link . '">'. $title . '</a></h3>';            }else{                $html .= '<h3 class="service-title">'. $title . '</h3>';            }            $html .= '<p>' . $description . '</p>';        $html .= '</div>';    $html .= '</div>';	    return $html;  }// Disable Testimonial Rotator updates//add_filter('site_transient_update_plugins', 'filter_plugin_updates');//function filter_plugin_updates($value) {//    unset($value->response['testimonial-rotator/testimonial-rotator.php']);//    return $value;//}// Custom widget areaadd_action('widgets_init', 'frontpage_widget_area_init');function frontpage_widget_area_init() {    register_sidebar(            array(                'name' => 'Frontpage widgets area',                'id' => 'frontpage_widgets_area',                'before_widget' => '<div>',                'after_widget' => '</div>',                'before_title' => '<h2 class="rounded">',                'after_title' => '</h2>',    ));}add_action('widgets_init', 'testimonial_widget_area_init');function testimonial_widget_area_init() {    register_sidebar(array(        'name' => 'Testimonial Widget',        'id' => 'testimonial_widget',        'before_widget' => '<div class="testimonial-widget">',        'after_widget' => '</div>',        'before_title' => '<h2 class="widget-title">',        'after_title' => '</h2>',    ));}add_action('widgets_init', 'portfolio_widget');function portfolio_widget() {    register_sidebar(array(        'name' => 'Portfolio Widget',        'id' => 'portfolio_widget',        'before_widget' => '<div class="portfolio-widget nav-widget">',        'after_widget' => '</div>',        'before_title' => '<h2 class="widget-title">',        'after_title' => '</h2>',    ));}add_action('widgets_init', 'services_widget');function services_widget() {    register_sidebar(array(        'name' => 'Services Widget',        'id' => 'services_widget',        'before_widget' => '<div class="services-widget">',        'after_widget' => '</div>',        'before_title' => '<h2 class="widget-title">',        'after_title' => '</h2>',    ));}add_action('widgets_init', 'contact_widget');function contact_widget() {    register_sidebar(array(        'name' => 'Contact Widget',        'id' => 'contact_widget',        'before_widget' => '<div class="contact-widget">',        'after_widget' => '</div>',        'before_title' => '<h2 class="widget-title">',        'after_title' => '</h2>',    ));}function nyomega_sidebars(){    register_sidebar( array(       'id' => 'recent-news',       'name' => __('Recent News'),       'before_widget' => '<div id="%1$s" class="widget %2$s">',       'before_title' => '<h4 class="recents-widgettitle">',       'after_title' => '</h4>',       'after_widget' => '</div>'    ));}add_action('widgets_init', 'nyomega_sidebars');include 'inc/ThemeWalker.php';include 'inc/Frontpage_Widget.php';// register Foo_Widget widgetfunction register_frontpage_widget() {    register_widget('Frontpage_Widget');}add_action('widgets_init', 'register_frontpage_widget');add_shortcode('events2', 'events2_func');function events2_func($atts){    	$html = '';                $array = array();	extract( shortcode_atts( array(		'folder' => '',		'rel' => '',		'group' => '',		'cols' => '',		'title' => ''	), $atts ) );		$dir = 'wp-content/uploads/events/photos/album/' . $folder;                $siteurl = get_site_url();        $first = true;	foreach ( glob ( $dir . '/cover.{jpg,gif,png}', GLOB_BRACE ) as $album ){                        $picture = glob( $dir . '/large/*.{jpg,gif,png}', GLOB_BRACE );                           $firstimage = $picture[0];                        $html .= '<div style="float:left; width: 50%; position: relative; text-align: center">';                                    $html .= '<img src="' . $siteurl  . '/' . $album .'" style="width: 90%"/>';            $html .= '<a href="' . $siteurl . '/' . $firstimage . '" rel="' . $rel .'[' . $group . ']" style="text-decoration:none; border: 0px; outline: 0px;position: absolute; width: 100%; lefT: 0; top: 20%; vertical-align: middle; height: 176px; color: #C4151C; font-size:1em; font-weight:bold;">';            $html .= $title . '</a></div>';                        $first = true;                        foreach ( glob ( $dir . '/large/*.{jpg,gif,png}', GLOB_BRACE ) as $pictures ){                                if ( $first ) {                    $first = false;                    continue;                }                $html .= '<a href="' . $siteurl . '/' . $pictures .'" rel="'. $rel .'['. $group .']" style="display:none"></a>';                            }	}        return $html;	}add_shortcode('events', 'events_func');function events_func($atts){    	$html = '';                $array = array();	extract( shortcode_atts( array(		'folder' => '',		'rel' => '',		'group' => '',		'cols' => '',		'title' => ''	), $atts ) );		$dir = 'wp-content/uploads/events/photos/album/' . $folder;                $siteurl = get_site_url();        $first = true;	                        $picture = glob( $dir . '/large/*.{jpg,gif,png}', GLOB_BRACE );                           $firstimage = $picture[0];                        $html .= '<div class="album-cover">';                        $html .= '<a class="album_item ' . $group . '" href="' . $siteurl . '/' . $firstimage . '" rel="' . $rel .'[' . $group . ']">';            $html .= '<div class="top"></div>';            $html .= '<div class="album-title">'.$title.'</div>';            $html .= '<div class="bottom"></div>';            $html .= '</a>';            $html .= '</div>';                        $first = true;                        foreach ( glob ( $dir . '/large/*.{jpg,gif,png}', GLOB_BRACE ) as $pictures ){                                if ( $first ) {                    $first = false;                    continue;                }                $html .= '<a class="album_item ' . $group . '" href="' . $siteurl . '/' . $pictures .'" rel="'. $rel .'['. $group .']" style="display:none"></a>';                            }	        return $html;	}add_shortcode('events3', 'events3_func');function events3_func($atts){	$html = '';        $array = array();	extract( shortcode_atts( array(		'folder' => '',		'rel' => '',		'group' => '',		'cols' => '',		'title' => ''	), $atts ) );	$dir = 'wp-content/uploads/events/photos/album/' . $folder;        $siteurl = get_site_url();        $first = true;            $picture = glob( $dir . '/large/*.{jpg,gif,png}', GLOB_BRACE );            $firstimage = $picture[0];            $html .= '<div class="album-cover">';            $html .= '<a href="' . $siteurl . '/' . $firstimage . '" rel="' . $rel .'[' . $group . ']">';            $html .= '<div class="top"></div>';            $html .= '<div class="album-title">'.$title.'</div>';            $html .= '<div class="bottom"></div>';            $html .= '</a>';            $html .= '</div>';            $first = true;            foreach ( glob ( $dir . '/large/*.{jpg,gif,png}', GLOB_BRACE ) as $pictures ){                if ( $first ) {                    $first = false;                    continue;                }                $html .= '<a href="' . $siteurl . '/' . $pictures .'" rel="'. $rel .'['. $group .']" style="display:none"></a>';            }        return $html;}add_shortcode('portfolio', 'portfolio_func');function portfolio_func($atts, $content=null){    $html = '';        extract( shortcode_atts( array(		'url' => '',		'sitename' => '',		'css' => ''	), $atts ) );        ob_start();	?><a href="<?php echo $url; ?>" target="_blank" style="border: none; text-decoration: none;<?php echo $css; ?>"><?php echo $content . $sitename; ?></a>    <?php	return ob_get_clean();}add_action( 'after_setup_theme', 'woocommerce_support' );function woocommerce_support() {    add_theme_support( 'woocommerce' );}add_filter( 'woocommerce_breadcrumb_defaults', 'woocommerce_custom_style_breadcrumb' );function woocommerce_custom_style_breadcrumb( $defaults ) { // Change the breadcrumb delimiter from '/' to '>'     $defaults = array(        'wrap_before' => '<div class="woo-breadcrumb"><div class="wrapper"><ul class="woocommerce-breadcrumb">',        'wrap_after' => '</ul></div></div>',        'before' => '<li>',        'after' => '</li>',        'home' => 'NY Omega Designs'    ); return $defaults;}//Reposition WooCommerce breadcrumb function woocommerce_remove_breadcrumb(){remove_action(     'woocommerce_before_main_content', 'woocommerce_breadcrumb', 20);}add_action(    'woocommerce_before_main_content', 'woocommerce_remove_breadcrumb');function woocommerce_custom_breadcrumb(){    woocommerce_breadcrumb();}add_action( 'woo_custom_breadcrumb', 'woocommerce_custom_breadcrumb' );add_filter( 'loop_shop_columns', 'wc_loop_shop_columns', 1, 10 ); /** Return a new number of maximum columns for shop archives* @param int Original value* @return int New number of columns*/function wc_loop_shop_columns( $number_columns ) {return 3;}